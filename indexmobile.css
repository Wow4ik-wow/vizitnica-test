/* =========================
   MOBILE ONLY BASE / RESET
   ========================= */

html.mobile-device,
html.mobile-device body {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  min-height: 100% !important;
  overflow-x: hidden !important;
  background: #f0cda6 url("main-bg.webp") repeat-y center top !important; /* те самые «доски» */
  background-size: 1920px auto !important;
  box-sizing: border-box !important;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

img {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* Глобальные переменные мобильной сетки */
html.mobile-device {
  --pad-x: 10px;
  --pad-y: 10px;
  --gap-x: 8px;    /* горизонтальные отступы в сетке */
  --gap-y: 8px;    /* вертикальные отступы в сетке */
  --row-h: 48px;   /* высота строки под поле/кнопку */
  --ad-h: 170px;   /* высота рекламного блока */
  --radius: 8px;
  --btn-bg: #3b82f6;
  --btn-bg-hover: #2563eb;
  --input-bg: #eec0c0;
  --input-bg-focus: #f78585;
  --text: #222;
}

/* =========================
   HEADER GRID (TOP LAYOUT)
   ========================= */

/* ВАЖНО: сносим абсолюты/координаты, которые ставит index-header-desktop-keys.js */
html.mobile-device .header,
html.mobile-device .header * {
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;
  /* ширины/высоты выставим ниже контекстно; так надёжнее против инлайнов */
}

/* Сама шапка: построим общую сетку 2/3 vs 1/3 */
html.mobile-device .header {
  width: 100% !important;
  padding: var(--pad-y) var(--pad-x) !important;
  display: grid !important;
  grid-template-columns: 2fr 1fr !important;
  grid-auto-rows: auto !important;
  grid-column-gap: var(--gap-x) !important;
  grid-row-gap: 2px !important;
  background-image: url("header-bg.webp") !important; /* как на десктопе */
  background-repeat: no-repeat !important;
  background-size: cover !important;
  background-position: center top !important;
}

/* «Сплющим» обёртки, чтобы их дети стали элементами общей grid */
html.mobile-device .filters-container,
html.mobile-device .filters-container .filter-row,
html.mobile-device .auth-container {
  display: contents !important;
}

/* Полностью убираем заголовок и подзаголовок из потока */
html.mobile-device .pageTitle,
html.mobile-device .pageSubtitle {
  display: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  z-index: -9999 !important;
}

/* Картинка шапки десктопной версии */
html.mobile-device .header-image {
  grid-column: 1 / 3 !important;
  grid-row: 7 !important;
  width: 100% !important;
  height: auto !important; /* Высота по содержимому */
  min-height: 0 !important; /* Сбрасываем ограничения */
  max-height: none !important;
  margin: 0 !important;
  border-radius: var(--radius) !important;
  overflow: visible !important; /* Разрешаем показ за пределы */
  display: block !important; /* Убираем flex */
}

html.mobile-device .header-image img {
  width: 100% !important;
  height: auto !important; /* Сохраняем пропорции */
  object-fit: contain !important;
  display: block !important;
}

/* Универсальные стили инпутов (все шесть) */
html.mobile-device .input-wrapper-dt {
  display: block !important;
  width: 100% !important;
}

html.mobile-device .input-wrapper-dt input {
  width: 100% !important;
  height: var(--row-h) !important;
  padding: 10px !important;
  border: 1px solid #a0a0a0 !important;
  border-radius: var(--radius) !important;
  background: var(--input-bg) !important;
  color: var(--text) !important;
  font-size: 15px !important;
}

html.mobile-device .input-wrapper-dt input:focus {
  border-color: var(--btn-bg) !important;
  background: var(--input-bg-focus) !important;
  box-shadow: 0 0 0 3px rgba(59,130,246,0.12) !important;
}

html.mobile-device .input-wrapper-dt input::placeholder {
  color: #646363 !important;
  opacity: 1 !important;
}

/* Десктопный крестик внутри поля — пусть работает как раньше */
html.mobile-device .input-wrapper-dt .input-clear-desktop {
  position: absolute !important;
  right: 10px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  background: none !important;
  border: none !important;
  font-size: 20px !important;
  color: #555 !important;
  cursor: pointer !important;
  display: none; /* показывается при фокусе ниже */
  z-index: 10;
}
html.mobile-device .input-wrapper-dt input:focus + .input-clear-desktop,
html.mobile-device .input-wrapper-dt input:not(:placeholder-shown) + .input-clear-desktop {
  display: block !important;
}

/* === РАСКЛАДКА: левая колонка (6 полей), правая колонка (кнопки) === */
/* Используем :has(), чтобы позиционировать по ID поля внутри обёртки */

html.mobile-device .input-wrapper-dt:has(#filterRegion)  { grid-column: 1 !important; grid-row: 2 !important; }
html.mobile-device .input-wrapper-dt:has(#filterCity)    { grid-column: 1 !important; grid-row: 3 !important; }
html.mobile-device .input-wrapper-dt:has(#filterProfile) { grid-column: 1 !important; grid-row: 4 !important; }
html.mobile-device .input-wrapper-dt:has(#filterType)    { grid-column: 1 !important; grid-row: 5 !important; }
html.mobile-device .input-wrapper-dt:has(#filterDistrict){ grid-column: 1 !important; grid-row: 6 !important; }
html.mobile-device .input-wrapper-dt:has(#filterName)    { grid-column: 1 !important; grid-row: 7 !important; }

/* Правая колонка — кнопки по строкам.
   ВХОД (google) и ВЫХОД ставим в одну строку: будет видна только актуальная. */
html.mobile-device .auth-login-wrapper { grid-column: 2 !important; grid-row: 2 !important; }
html.mobile-device #logoutBtn         { grid-column: 2 !important; grid-row: 2 !important; }

html.mobile-device #adminBtn          { grid-column: 2 !important; grid-row: 3 !important; }
html.mobile-device #addServiceBtn     { grid-column: 2 !important; grid-row: 4 !important; }
html.mobile-device #cabinetBtn        { grid-column: 2 !important; grid-row: 5 !important; }
/* Строка 5 — намеренно пустая (напротив «Район») */
html.mobile-device .searchBtn         { grid-column: 2 !important; grid-row: 7 !important; }

/* Общие стили кнопок */
html.mobile-device .btn,
html.mobile-device #logoutBtn {
  width: 100% !important;
  height: var(--row-h) !important;
  padding: 8px 12px !important;
  border: none !important;
  border-radius: var(--radius) !important;
  background: var(--btn-bg) !important;
  color: #fff !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  white-space: nowrap !important;
}
html.mobile-device .btn:hover,
html.mobile-device #logoutBtn:hover {
  background: var(--btn-bg-hover) !important;
}

/* Google auth iframe фиксируем по месту строки */
html.mobile-device .auth-login-wrapper { width: 100% !important; height: var(--row-h) !important; }
html.mobile-device #googleAuthBtn,
html.mobile-device #googleAuthBtn > div,
html.mobile-device #googleAuthBtn iframe {
  width: 100% !important; height: 100% !important; min-width: 0 !important; border: none !important;
}

/* =========================
   РЕКЛАМА: 2 в ряд × 3 ряда
   ========================= */

/* Размещаем блоки в тех же grid-колонках, но ниже шапки */
html.mobile-device #sideBlockLeft  { grid-column: 1 !important; grid-row: 8  !important; }
html.mobile-device #sideBlockRight { grid-column: 2 !important; grid-row: 8  !important; }

html.mobile-device #bottomBlock1   { grid-column: 1 !important; grid-row: 9 !important; }
html.mobile-device #bottomBlock2   { grid-column: 2 !important; grid-row: 10 !important; }
html.mobile-device #bottomBlock3   { grid-column: 1 !important; grid-row: 11 !important; }
html.mobile-device #bottomBlock4   { grid-column: 2 !important; grid-row: 12 !important; }

/* Визуал рекламы */
html.mobile-device #sideBlockLeft,
html.mobile-device #sideBlockRight,
html.mobile-device #bottomBlock1,
html.mobile-device #bottomBlock2,
html.mobile-device #bottomBlock3,
html.mobile-device #bottomBlock4 {
  width: 100% !important;
  height: var(--ad-h) !important;
  min-height: var(--ad-h) !important;
  border-radius: var(--radius) !important;
  background: rgba(0,0,0,0.08) !important;
  border: 1px solid rgba(0,0,0,0.15) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  color: #333 !important;
  font-size: 14px !important;
  cursor: pointer !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease !important;
  overflow: hidden !important;
  z-index: auto !important; /* без перекрытий на мобилке */
}

html.mobile-device #sideBlockLeft:hover,
html.mobile-device #sideBlockRight:hover,
html.mobile-device #bottomBlock1:hover,
html.mobile-device #bottomBlock2:hover,
html.mobile-device #bottomBlock3:hover,
html.mobile-device #bottomBlock4:hover {
  transform: scale(1.03) !important;
  box-shadow: 0 6px 16px rgba(59,130,246,0.35) !important;
}

/* Внутренняя карточка рекламы (совместимо с твоим index.css) */
html.mobile-device .info-card {
  width: 100% !important; height: 100% !important;
  border-radius: calc(var(--radius) + 1px) !important;
  border: 9px solid #5e2c03 !important;
  box-shadow: 0 4px 12px rgba(15, 9, 1, 0.25) !important;
  overflow: hidden !important;
}
html.mobile-device .info-card img {
  width: 100% !important; height: 100% !important;
  object-fit: contain !important; object-position: center !important;
  transition: transform 0.3s ease !important;
}
html.mobile-device .info-card:hover img { transform: scale(1.04) !important; }

/* =========================
   ДРОПДАУНЫ / ФУЛЛСКРИН
   ========================= */

/* Общие dropdown (как в старом коде) */
html.mobile-device .dropdown-common-style,
html.mobile-device #customTypeDropdown {
  position: fixed !important;
  left: 0 !important; right: 0 !important;
  bottom: 0 !important;
  max-height: 60vh !important; /* список + место под клавиатуру */
  top: auto !important;
  background: #fff !important;
  border: 1px solid #ddd !important;
  border-radius: var(--radius) var(--radius) 0 0 !important;
  overflow-y: auto !important;
  z-index: 9999 !important;
  padding: 6px 0 !important;
  width: auto !important;
  min-width: 250px !important;
  box-shadow: 0 -6px 18px rgba(0,0,0,0.15) !important;
}
html.mobile-device .dropdown-common-style div,
html.mobile-device #customTypeDropdown div {
  padding: 12px 16px !important;
  font-size: 15px !important;
  border-bottom: 1px solid #f0f0f0 !important;
  cursor: pointer !important;
}
html.mobile-device .dropdown-common-style div:hover,
html.mobile-device #customTypeDropdown div:hover {
  background: #f5f5f5 !important;
}

/* Фиксация активного поля наверху экрана при раскрытом списке */
html.mobile-device .input-fixed-absolute {
  position: fixed !important;
  top: 0 !important; left: 0 !important; right: 0 !important;
  z-index: 10000 !important;
  background: #f0cda6 !important;
  padding: 14px var(--pad-x) !important;
  margin: 0 !important;
  width: 100% !important;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2) !important;
}

/* Крестик для закрытия фуллскрина */
html.mobile-device .input-clear-mobile {
  position: fixed !important;
  right: 18px !important;
  top: 12px !important;
  width: 32px !important; height: 32px !important;
  line-height: 32px !important; text-align: center !important;
  font-size: 24px !important;
  background: none !important; border: none !important;
  color: #646363 !important; cursor: pointer !important;
  display: none !important; z-index: 10001 !important;
}
html.mobile-device .input-fixed-absolute ~ .input-clear-mobile {
  display: block !important;
}

/* Контейнер подсказок на весь экран (как раньше) */
html.mobile-device .mobile-suggestions-container {
  position: fixed !important;
  top: 60px !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
  overflow-y: auto !important;
  background: #fff !important;
  z-index: 9999 !important;
  padding: var(--pad-x) !important;
  -webkit-overflow-scrolling: touch !important;
  transform: translateZ(0) !important;
}

/* =========================
   КАРТОЧКИ СПИСКА / ПРОЧЕЕ
   ========================= */

html.mobile-device #scrollTarget { height: 1px !important; }

html.mobile-device .search-count {
  text-align: center !important;
  font-size: 16px !important;
  font-weight: 700 !important;
  color: #2c3e50 !important;
  margin: 10px auto !important;
  padding: 8px !important;
  background: rgba(235,214,196,0.85) !important;
  border-radius: var(--radius) !important;
  max-width: 92% !important;
}

/* Сетка карточек */
html.mobile-device #cards {
  width: 100% !important;
  padding: 0 var(--pad-x) !important;
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 14px !important;
  box-sizing: border-box !important;
}
@media (orientation: landscape) {
  html.mobile-device #cards { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
}

html.mobile-device .card {
  width: 100% !important;
  background: #ebd6c4 !important;
  padding: 14px !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 1px 4px rgba(0,0,0,0.15) !important;
  margin: 0 auto !important;
  font-size: 16px !important;
}

/* Кнопки в карточке */
html.mobile-device .card-buttons {
  display: flex !important;
  gap: 8px !important;
  flex-wrap: wrap !important;
  margin-top: 10px !important;
  padding-top: 8px !important;
  border-top: 1px dashed rgba(0,0,0,0.12) !important;
}
html.mobile-device .card-buttons .btn {
  padding: 5px 10px !important;
  font-size: 13px !important;
  line-height: 1.2 !important;
  height: auto !important;
}

/* Кнопка «Наверх» */
html.mobile-device .back-to-top {
  width: calc(100% - 2*var(--pad-x)) !important;
  margin: 20px auto !important;
  position: sticky !important;
  bottom: 20px !important;
}

/* Нотификация */
html.mobile-device .notification {
  position: fixed !important;
  top: 20px !important; left: 50% !important;
  transform: translateX(-50%) !important;
  background: rgba(240,147,147,0.75) !important;
  color: #0f0c0c !important;
  padding: 10px 20px !important;
  border-radius: var(--radius) !important;
  display: none !important;
  z-index: 9999 !important;
  font-size: 14px !important;
}

/* =========================
   ПРОЧЕЕ / СЕРВИСНЫЕ
   ========================= */

/* Скрывалка по ролям остаётся как в твоём JS (по data-role/классам),
   мы только гарантируем корректные места элементов. */
html.mobile-device .hidden { display: none !important; }

/* Виджет размера окна — фиксируем в углу */
html.mobile-device #window-size {
  position: fixed !important;
  top: 10px !important; right: 10px !important;
  background: rgba(0,0,0,0.6) !important;
  color: #fff !important;
  font-size: 13px !important;
  padding: 5px 8px !important;
  border-radius: 6px !important;
  font-family: monospace !important;
  z-index: 9999 !important;
  pointer-events: none !important;
}

/* Мелкие адаптации */
@media (max-width: 360px) {
  html.mobile-device { --row-h: 44px; --ad-h: 150px; }
}

/* УБРАТЬ ЛЮБЫЕ СКРЫТЫЕ ЭЛЕМЕНТЫ ИЗ СЕТКИ */
html.mobile-device .pageTitle,
html.mobile-device .pageSubtitle {
  display: none !important;
  grid-row: unset !important;
  grid-column: unset !important;
  height: 0 !important;
  min-height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* УМЕНЬШИТЬ ВЫСОТУ СТРОК СЕТКИ */
html.mobile-device .header {
  grid-auto-rows: min-content !important;
  align-items: start !important;
}

/* ОТКЛЮЧИТЬ АБСОЛЮТНОЕ ПОЗИЦИОНИРОВАНИЕ ДЛЯ ШАПКИ */
html.mobile-device .header-image {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;
  margin: 0 !important;
}

/* ФИКСИРОВАННАЯ ВЫСОТА */
html.mobile-device .header-image {
  height: 120px !important;
  min-height: 120px !important;
  max-height: 120px !important;
}